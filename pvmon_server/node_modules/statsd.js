var StatsD = require('node_statsd.js').StatsD;

// FIXME - need to use proper configuration!!!!
var client = new StatsD({'host':'192.168.128.132'});



// ----------------------------------------------------------------------------
module.exports.insert_event = function(ev) {

	// for the sake of statsd, I must replace the dots in a hostname by dashes
	// and the slashes by dots because that's how it separates things.

	var statsdpath = ev.host.replace(/\./g,'-') + '.' + ev.service.replace(/\//g,'.');


	client[ev.metric_type](statsdpath,ev.metric);
}

